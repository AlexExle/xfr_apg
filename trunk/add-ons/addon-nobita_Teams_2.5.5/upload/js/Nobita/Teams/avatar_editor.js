!function(t){XenForo.AvatarEditor=function(t){this.__construct(t)},XenForo.AvatarEditor.prototype={__construct:function(e){this.$form=e.bind({submit:t.context(this,"saveChanges"),AutoInlineUploadComplete:t.context(this,"uploadComplete")})},uploadComplete:function(t){this.updateEditor(t.ajaxData)},updateEditor:function(e){t(".previewAvatar").attr("src",e.url),t("input[name=team_avatar_date]").val(e.team_avatar_date),t(".teamLogo").find("img").attr("src",e.url),parseInt(e.team_avatar_date,10)?(t("#logoControl").show(),t("input[name=delete]").removeAttr("checked")):t("#logoControl").hide()},saveChanges:function(e){return this.$form.find("input[name=_xfUploader]").length?!0:(e.preventDefault(),void XenForo.ajax(this.$form.attr("action"),this.$form.serializeArray(),t.context(this,"saveChangesSuccess")))},saveChangesSuccess:function(t){return XenForo.hasResponseError(t)?!1:(this.updateEditor(t),void(t.redirectUri&&(location.href=t.redirectUri)))}},XenForo.register(".TeamAvatarEditor","XenForo.AvatarEditor")}(jQuery,this,document);