!function(t,e,i){XenForo.Team_RecentStoriesScrolling=function(t){this.__construct(t)},XenForo.Team_RecentStoriesScrolling.prototype={__construct:function(i){this.$container=i,this.$flag=t(this.$container.data("flag")),this.$flagLoading=t(".Team_FlagLoading"),this.nextUrl=this.$container.data("next"),this.paddingTop=parseInt(this.$container.css("padding-top"),10),this.timeout,this.waiting=!1,this.offset=50,this.isMobile=null,this.updatedUserMenu=!1,this.parseUserAgent(),this.isMobile?(this.$flag.show().find(">span").text(this.$flag.data("moretext")),this.$flag.on("click",t.context(this,"loading"))):t(e).on("scroll",t.context(this,"scrolling"))},parseUserAgent:function(){return null!=this.isMobile?this.isMobile:(this.isMobile=navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)?!0:!1,this.isMobile)},showLoading:function(){this.$flagLoading.is(":visible")||this.$flagLoading.xfShow().addClass("bounceIn")},hideLoading:function(){this.$flagLoading.is(":visible")&&this.$flagLoading.xfHide().removeClass("bounceIn")},loading:function(){if(!this.nextUrl)return void this.hideLoading();if(!this.waiting&&!this.timeout){var e={};e.date=this.$container.data("date"),this.showLoading(),this.timeout=setTimeout(function(){this.waiting=XenForo.ajax(this.nextUrl,e,t.context(this,"response"))}.bind(this),XenForo.speed.normal)}},scrolling:function(){var i,n=t(e).scrollTop(),o=t(e).height(),s=this.$flag.coords().top;return i=Math.ceil(n-s+o+this.paddingTop),i>=this.offset?this.loading():void 0},response:function(e){if(clearTimeout(this.timeout),this.timeout=!1,this.waiting=!1,this.hideLoading(),XenForo.hasResponseError(e))return this.nextUrl=!1,!1;if(!this.updatedUserMenu){this.updatedUserMenu=!0;var n=t(i).height(),o=t(".Team_userNav .Team_menuPopup");if(n>=1e3&&o.length){var s=o.find(".Team_subMenu");s.css({"max-height":"100%"})}}this.nextUrl=e.nextPageUrl?e.nextPageUrl:!1;var a=t(e.templateHtml),r=this.$flag;this.nextUrl||r.xfShow().find(">span").text(r.data("notext")),new XenForo.ExtLoader(e,function(){a.xfInsert("insertBefore",r,0,"xfFadeIn",function(){new XenForo.Team_NewsFeedBox(this),componentHandler.upgradeDom()})})}},XenForo.Team_SliderContainer=function(t){this.__construct(t)},XenForo.Team_SliderContainer.prototype={__construct:function(e){this.$container=e,this.$inner=this.$container.find(".Team_SliderContainer_Inner"),this.owlCarousel,this.total=parseInt(this.$container.data("total"))||0,this.itemsPerSlide=parseInt(this.$container.data("itemsperslide"))||0,this.settings={speed:parseInt(this.$container.data("speed"))||1e3,itemsPerSlide:this.total>=this.itemsPerSlide?this.itemsPerSlide:this.total,autoplay:Boolean(this.$container.data("autoplay")),isRTL:"rtl"==t("html").attr("dir").toLowerCase()?!0:!1},this.itemsPerSlide&&this.init()},init:function(){this.owlCarousel=this.$inner.owlCarousel({items:this.settings.itemsPerSlide,navigation:!1,autoHeight:!1,stopOnHover:!0,loop:!0,responsive:{0:{items:1},480:{items:1},780:{items:this.settings.itemsPerSlide}},autoplay:this.settings.autoplay,slideSpeed:this.settings.speed,rtl:this.settings.isRTL,responsiveBaseElement:this.$inner,nav:!0,navText:['<i class="material-icons">keyboard_arrow_left</i>','<i class="material-icons">keyboard_arrow_right</i>'],onInitialized:function(t){this.onResized(t)}.bind(this),onResized:function(t){this.onResized(t)}.bind(this)})},onResized:function(e){var i=this.$container.find(".owl-nav .material-icons"),n=t(e.target);setTimeout(function(){var t=parseInt(n.height()-i.height())/2;i.css({top:t})},10)}},XenForo.Team_NavigationContainer=function(t){this.__construct(t)},XenForo.Team_NavigationContainer.prototype={__construct:function(i){this.$nav=i,this.$mainNav=this.$nav.find(".Team_mainNav"),this.$userNav=this.$nav.find(".Team_userNav");var n,o=t("html"),s=o.width();t(e).on("resize orientationchange load",function(t){n||("load"==t.type||s!=o.width())&&(n=setTimeout(function(){n=0,this.bootstrap()}.bind(this),50))}.bind(this)),this.$mainNav.find("#Team_navItemButton").on("click",t.context(this,"toggleMenu"))},bootstrap:function(){this.width=this.$nav.width(),this.height=this.$nav.height(),this.spacer=2,this.mainWidth=this.width-this.$userNav.width()-this.spacer,this.handleMainNav()},handleMainNav:function(){this.$mainNav.width(this.mainWidth);var e=".selected, .Team_navItemMenu",i=(this.$mainNav,this.$mainNav.find(">.Team_navItem")),n=i.filter(".selected"),o=this.$mainNav.find(">.Team_navItemMenu"),s=t(o.data("target")),a=this.$mainNav.coords(),r=this.mainWidth,h=0;i.show(),o.hide(),s.empty();var c=n.coords();if(c.width+o.width()>r)return t.each(i.filter(":not(.Team_navItemMenu)").get(),function(){var e,i=t(this);e=i.clone(),t("<li />").html(e).appendTo(s),i.hide()}),void o.show();{var d=function(){var t=o.coords();return t.top>a.top?!0:!1};!function(){var n=i.filter(":not("+e+")");t.each(n.get().reverse(),function(){var e,i=t(this);d(i.coords(),i)&&(h++,e=i.clone(),t("<li />").html(e).prependTo(s),i.hide())})}()}h&&o.show()},toggleMenu:function(e){e.preventDefault();var i=t(e.currentTarget),n=t(i.data("target")),o=n.data("visible"),s=i.coords();if(n.is(":visible"))n.removeClass(o);else{n.addClass(o);var a=s.left-i.width();n.css({left:a>0?a:0})}}},XenForo.Team_GridContainer=function(t){this.__construct(t)},XenForo.Team_GridContainer.prototype={__construct:function(n){this.$container=n,this.$items=this.$container.find(">.mdl-cell"),this.resizeTimer,t(e).on("load resize orientationchange",function(){this.resizeTimer||(this.resizeTimer=setTimeout(function(){this.resizeTimer=0,this.bootstrap()}.bind(this),2))}.bind(this)),t(i).on("XenForoActivationComplete",function(){componentHandler.upgradeDom()})},bootstrap:function(){this.$items.length&&t.each(this.$items,function(e){var i=t(this.$items.get(e)),n=i.find(".Team_BadgeList");if(n.length){var o=n.coords();n.find(">li").get().forEach(function(e){var i=t(e),n=i.coords();n.top>o.top?i.hide():i.show()})}}.bind(this))}},XenForo.Team_MainViewLayout=function(t){this.__construct(t)},XenForo.Team_MainViewLayout.prototype={__construct:function(t){this.$layout=t,this.boot()},boot:function(){this.resizeTimer,t(e).on("ready resize orientationchange",function(){this.resizeTimer||(this.resizeTimer=setTimeout(function(){this.cover(),this.resizeTimer=0}.bind(this),50))}.bind(this))},cover:function(){var t=this.$layout.find(".coverPhoto").height(),e=this.$layout.find(".coverContainer");e.hasClass("coverReposition")||e.height(t)}},XenForo.Team_NewsFeedBox=function(t){this.__construct(t)},XenForo.Team_NewsFeedBox.prototype={__construct:function(e){this.$container=e,this.active=e.data("active-class"),this.deactive=e.data("deactive-class"),this.$commentList=this.$container.find(".Team_CommentList"),this.$comment=e.find(".Team_CommentLink"),this.$comment.on("click",t.context(this,"showCommentForm")),this.$container.bind({mouseenter:t.context(this,"mouseEnter"),mouseleave:t.context(this,"mouseLeave")}),this.commentPending=!1,this.$commentsLoader=this.$container.find(".Team_LoadCommentsHandler"),this.$commentsLoader.on("click",t.context(this,"loadComments"))},mouseEnter:function(){this.$container.removeClass(this.deactive).addClass(this.active)},mouseLeave:function(){this.$container.removeClass(this.active).addClass(this.deactive),this.$container.find(".mdl-menu__container.is-visible").removeClass("is-visible")},showCommentForm:function(e){e.preventDefault();var i=t(e.target),n=t(i.data("target"));n.removeClass("invisible"),n.find("textarea").focus()},loadComments:function(e){if(e.preventDefault(),!this.commentPending){var i,n,o=t(e.target),s=o.parent(),a=o.data("params")||{};if(s.hasClass("Team_LoadPreviousHistory")){var r=this.$commentList.find(".Team_CommentItem").first();i=parseInt(r.data("date"),10),a.is_previous=1,n="prependTo"}else{var h=this.$commentList.find(".Team_CommentItem").last();i=parseInt(h.data("date"),10),a.is_previous=0,n="appendTo"}i&&(a.comment_date=i,this.commentPending=XenForo.ajax(o.attr("href"),a,function(e){if(this.commentPending=!1,XenForo.hasResponseError(e))return!1;e.commentsUnshown||s.xfRemove();var i=t(e.templateHtml);new XenForo.ExtLoader(e,function(){i.xfInsert(n,this.$commentList,0,"xfFadeIn",function(){componentHandler.upgradeDom()})}.bind(this))}.bind(this)))}}},XenForo.register(".Team_MainViewLayout","XenForo.Team_MainViewLayout"),XenForo.register(".Team_NavContainer","XenForo.Team_NavigationContainer"),XenForo.register(".Team_GridContainer","XenForo.Team_GridContainer"),XenForo.register(".Team_SliderContainer","XenForo.Team_SliderContainer"),XenForo.register(".Team_NewsFeedBox","XenForo.Team_NewsFeedBox"),XenForo.register(".Team_RecentStoriesScrolling","XenForo.Team_RecentStoriesScrolling")}(jQuery,this,document);